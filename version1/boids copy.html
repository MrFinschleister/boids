<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body {
            margin: 0;
            padding: none;
            overflow-y: hidden;
        }

        p {
            -webkit-user-select: none; /* Safari */
            -ms-user-select: none; /* IE 10 and IE 11 */
            user-select: none; /* Standard syntax */
        }
    </style>
</head>
<body onload="onload()">
    <p id="score" style="position: absolute; font-size: 20px; margin-left: 2vh; color: grey;">Score: 0</p>
    <canvas width="500" height="500" id="canvas" style="width: 100vw; height: 100vh; background-color: black;"></canvas>

    <script>
        class Vector2 {
            constructor(x, y) {
                this.x = x;
                this.y = y;
            }

            static neutral() {
                return new Vector2(0, 0);
            }
            
            static unitRand() {
                let angle = Math.random() * Math.PI * 2;
                
                return new Vector2(-Math.cos(angle), Math.sin(angle));
            }

            valueOf() {
                return this.magnitude();
            }

            clone() {
                return new Vector2(this.x, this.y);
            }

            magnitude() {
                return Math.sqrt(this.x * this.x + this.y * this.y);
            }

            add(v2) {
                this.x += v2.x;
                this.y += v2.y;
            }

            difference(v2) {
                return new Vector2(this.x - v2.x, this.y - v2.y);
            }

            scale(scalar) {
                this.x *= scalar;
                this.y *= scalar;
            }

            multiply(v2) {
                this.x *= v2.x;
                this.y *= v2.y;
            }

            dotProd(v2) {
                return this.x * v2.x + this.y * v2.y;
            }

            average(v2) {
                return new Vector2((this.x + v2.x) / 2, (this.y * v2.y) / 2);
            }

            normalise() {
                let magnitude = this.magnitude();

                if (magnitude == 0) {
                    this.x = 0;
                    this.y = 0;
                } else {
                    this.x /= magnitude;
                    this.y /= magnitude;
                }
            }

            cap(v2) {
                if (Math.abs(this.x) > v2.x) {
                    this.x = v2.x * Math.sign(this.x);
                }

                if (Math.abs(this.y) > v2.y) {
                    this.y = v2.y * Math.sign(this.y);
                }
            }
        }

        class Organism {
            constructor(position, weight) {
                this.position = position;
                this.weight = weight;
            }

            tick() {
                let velocity = Vector2.neutral();

                for (let i = 0; i < organisms.length; i++) {
                    
                }
            }
        }

        let canvas = document.getElementById('canvas');
        let ctx = canvas.getContext('2d');

        let interval;

        let organisms = [];

        function onload() {
            try {
                canvas.width = canvas.clientWidth;
                canvas.height = canvas.clientHeight;

                createOrganisms();

                start();
            } catch (error) {
                alert(error.stack);
            }
        }

        function createOrganisms() {
            let numOrganisms = 100;
        }

        function start() {
            interval = setInterval(function() {
                tick();
            }, 16);
        }

        function tick() {

        }
    </script>
</body>
</html>